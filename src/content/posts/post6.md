---
title: 网络工程1：详解家庭网络(2)
date: 2025-10-28T11:15:00Z
summary: 介绍了DHCP协议工作流程等。
category: 学习
tags: [家庭网络, IP地址, MAC地址, DHCP]
---

## 2.3.3 IP地址

在现实生活中，快递员需要知道你家的住址才能将货物送到你手中，而你需要知道别人的地址才能寄出快递。而在互联网中，这个货物就叫**数据包**（Packet），在不同电脑之间传输就需要知道**IP地址**。

IP地址全称为网际协议地址（Internet Protocol Address），是在互联网中用于身份标记以精确接收或发送信息的一串号码。

常见的IP地址分为两类：IPv4和IPv6。IPv4为32位长（二进制），一般写成四组十进制，如`172.32.21.12`；IPv6为128位长，一般以八组十进制数字组成，以冒号分割，如`2001:db8:0:1234:0:567:8:1`

总之，IP地址起到一个门牌号的作用，让一个计算机可以与另一个计算机相互通信。正是因为有这一基础，我们才得以在分别时与在意之人获得联系：声音、图像和文字。

## 2.3.4 MAC地址

与IP地址对应的还有MAC地址，这个地址是在硬件出厂时被设置的，很难再被更改。相当于你的身份证号，身份证号不能更改，但你可以随便更改你的住址。

MAC地址（Media Access Control Address），也被称为局域网地址，格式为`XX-XX-XX-XX-XX-XX`，电脑中的每个网卡都具有唯一的MAC地址。

## 2.3.5 DHCP协议工作流程

IP地址很重要，但是计算机该如何知道自己的IP地址或者又可以问是谁来负责分配IP地址呢？

DHCP协议，全称**动态主机配置协议**（Dynamic Host Configuration Protocol）。这是一个计算机用来获取与更新IP地址的协议。

一般而言，计算机获取IP地址的过程如下：

向当前网络环境中的IP地址分配者发送请求（DHCP服务器，家庭网络中由**路由器**承担这一角色），这个过程会发送MAC地址。

路由器获取到请求发现是发送给自己的，于是从DHCP地址池中选择一个未使用的IP，先与请求方的MAC地址绑定后，构造一个数据包（包含地址/子网掩码/租期等等）发回原计算机。于是原计算机便有了IP地址。

当原计算机IP地址的租期到达给定租期的一半，比如给定租期是12小时，也就是到达6小时时，计算机会构造一个新的续租请求，待路由器发回确认请求后租期变回12小时。如果路由器的DHCP服务器未回应，便会在12小时后释放IP，届时也会重新请求IP。

如果此时网络环境中没有DHCP服务器，便会自动设置一个默认IP：`169.254.x.x`。

电脑关机后，租期到期，DHCP服务器也会释放掉记录的该电脑的IP地址，提供给其他人使用。

除了电脑自动获取，你也可以手动设置IP地址，需要保证不与其他设备的IP冲突，也要在当前网段配置。

<figure style="text-align: center;">
  <img src="https://free.picui.cn/free/2025/10/28/6900998abd8a5.jpg" alt="图片描述" style="display: block; margin: 0 auto;">
  <figcaption style="font-style: italic; color: #666;">图4：IP地址配置界面</figcaption>
</figure>

**未完待续**
